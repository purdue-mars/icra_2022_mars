<launch>
    <arg name="robot_ip" default="192.168.0.144"/>
    <arg name="load_gripper" default="true"/>
    <arg name="rviz" default="true"/>

    <rosparam file="$(find mars_config)/config/global.yml" command="load" subst_value="true"/>

    <node pkg="tf2_ros" type="static_transform_publisher" name="virtual_joint_broadcaster_zero" args="0 0 0 0 0 0 world panda_link0" /> 
    <include file="$(find franka_control)/launch/franka_control.launch" >
        <arg name="robot_ip" value="$(arg robot_ip)" />
        <arg name="load_gripper" value="$(arg load_gripper)" />
    </include>
    
    <include file="$(find panda_moveit_config)/launch/panda_moveit.launch">
        <arg name="load_gripper" value="$(arg load_gripper)" />
    </include>

    <include file="$(find mars_perception)/launch/cameras.launch"/>
    <node pkg="rviz" type="rviz" name="rviz" args="-d $(find mars_launch)/rviz/config.rviz"/>

</launch>
